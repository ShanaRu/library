{"remainingRequest":"D:\\IBM课件和代码\\work\\library\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IBM课件和代码\\work\\library\\src\\components\\waiting.vue?vue&type=style&index=0&id=4ea731ed&scoped=true&lang=css&","dependencies":[{"path":"D:\\IBM课件和代码\\work\\library\\src\\components\\waiting.vue","mtime":1606270095340},{"path":"D:\\IBM课件和代码\\work\\library\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IBM课件和代码\\work\\library\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\IBM课件和代码\\work\\library\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\IBM课件和代码\\work\\library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IBM课件和代码\\work\\library\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLndhaXRpbmctY29udGFpbmVyew0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBtYXJnaW4tdG9wOiAxMDBweDsNCn0gICAgDQo="},{"version":3,"sources":["waiting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA","file":"waiting.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"waiting-container\">\r\n        正在激活...还有{{time}}秒跳转\r\n    </div>\r\n</template>\r\n<script>\r\nimport Axios from 'axios';\r\nexport default {\r\n    name:\"waiting\",\r\n    data() {\r\n        return {\r\n            time:5,\r\n            userId:0\r\n        }\r\n    },\r\n    methods: {\r\n        countDown() {\r\n            this.active();//调用激活账号接口\r\n            //倒计时5秒跳转登录页面\r\n            this.timer = setInterval(()=>{\r\n                this.time--; \r\n                if(this.time == 0){\r\n                    clearInterval(this.timer);\r\n                    this.$router.push('/login');\r\n                }\r\n            },1000)\r\n            \r\n        },\r\n        active() {\r\n            //获取url中的userId\r\n            let url = window.location.href;\r\n            let index = url.indexOf(\"=\");\r\n            this.userId = url.substr(index+1);\r\n            // console.log(this.userId);\r\n            Axios({\r\n                method:'get',\r\n                url:'user/active/'+this.userId\r\n            })\r\n            .then(response => {\r\n                if(response.data.code == 200) {\r\n                    this.$message({\r\n                        type:'success',\r\n                        message:'账号激活成功',\r\n                        showClose:true\r\n                    })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                this.$message({\r\n                    type:'error',\r\n                    message:'账号激活失败',\r\n                    showClose:true\r\n                })\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n        this.countDown();\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.waiting-container{\r\n    text-align: center;\r\n    margin-top: 100px;\r\n}    \r\n</style>"]}]}